import{c as a}from"./BHHXhqnB.js";import{C as s}from"./C2jbl7Ih.js";/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l=a("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),u=s("cart",{state:()=>({items:[],isOpen:!1,total:0,shipping:5.99,tax:0}),getters:{itemCount:t=>t.items.reduce((e,i)=>e+i.quantity,0),subtotal:t=>t.items.reduce((e,i)=>e+i.price*i.quantity,0),grandTotal:t=>t.subtotal+t.shipping+t.tax,requiresPrescription:t=>t.items.some(e=>e.prescription_required)},actions:{addItem(t){const e=this.items.find(i=>i.id===t.id);e?e.quantity+=1:this.items.push({...t,quantity:1}),this.calculateTotal()},removeItem(t){const e=this.items.findIndex(i=>i.id===t);e>-1&&(this.items.splice(e,1),this.calculateTotal())},updateQuantity(t,e){const i=this.items.find(r=>r.id===t);i&&(e<=0?this.removeItem(t):(i.quantity=e,this.calculateTotal()))},clearCart(){this.items=[],this.calculateTotal()},toggleCart(){this.isOpen=!this.isOpen},calculateTotal(){this.total=this.subtotal,this.tax=this.total*.2}},persist:!0}),c=s("user",{state:()=>({user:null,isAuthenticated:!1,loading:!1}),getters:{fullName:t=>t.user?`${t.user.firstName} ${t.user.lastName}`:"",canOrderPrescription:t=>{var e,i;return((e=t.user)==null?void 0:e.isProfessional)||((i=t.user)==null?void 0:i.prescriptionValid)}},actions:{async login(t,e){this.loading=!0;try{await new Promise(i=>setTimeout(i,1e3)),this.user={id:1,email:t,firstName:"Jean",lastName:"Dupont",phone:"0123456789",address:{street:"123 Rue de la SantÃ©",city:"Paris",zipCode:"75001",country:"France"},isProfessional:!1,prescriptionValid:!0},this.isAuthenticated=!0}catch{throw new Error("Erreur de connexion")}finally{this.loading=!1}},async register(t){this.loading=!0;try{await new Promise(e=>setTimeout(e,1e3)),this.user={id:Date.now(),...t},this.isAuthenticated=!0}catch{throw new Error("Erreur lors de l'inscription")}finally{this.loading=!1}},logout(){this.user=null,this.isAuthenticated=!1},updateProfile(t){this.user&&(this.user={...this.user,...t})}},persist:!0});export{l as S,c as a,u};
