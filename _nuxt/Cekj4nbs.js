import{_ as B}from"./Q-3slqK1.js";import{_ as q}from"./BnnbI4Jk.js";import{u as I,P as N}from"./35J3xwFi.js";import{u as j,a as F,S as H}from"./Cj5LUsUW.js";import{B as L,r as Q,f as k,h as E,u as V,c as a,q as s,a as e,b as n,w,t as i,m as l,F as p,j as v,y,d as g,s as D,o,p as T}from"./C2jbl7Ih.js";import{S as $}from"./DImPT18b.js";import{T as G}from"./CmaXjgZK.js";import{M as O,P as z}from"./C-enbSYt.js";import{H as U}from"./DldrC2mY.js";import{M as X}from"./B7vdwEUW.js";import{c as J}from"./BHHXhqnB.js";import"./DlAUqK2U.js";import"./CQrOPEqO.js";/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=J("share",[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]]),W={key:0,class:"section-padding bg-gray-50"},Y={class:"container-custom"},Z={class:"mb-8"},tt={class:"flex items-center space-x-2 text-sm text-gray-600"},st={class:"text-gray-900"},et={class:"grid grid-cols-1 lg:grid-cols-2 gap-12"},rt={class:"bg-white rounded-lg shadow-sm p-8 mb-4"},ot={key:0,class:"grid grid-cols-4 gap-2"},at={class:"space-y-6"},it={class:"text-sm text-gray-500"},nt={class:"text-3xl font-bold text-gray-900 mt-1"},lt={key:0,class:"flex items-center space-x-2"},dt={class:"flex items-center"},ct={class:"text-sm text-gray-600"},ut={class:"flex items-center space-x-4"},gt={class:"text-3xl font-bold text-primary-600"},mt={key:0,class:"text-xl text-gray-500 line-through"},pt={key:1,class:"bg-secondary-100 text-secondary-800 px-2 py-1 rounded-full text-sm font-medium"},vt={class:"flex items-center space-x-2"},yt={key:0,class:"text-orange-600"},_t={class:"text-gray-700 leading-relaxed"},ht={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xt={key:0,class:"bg-gray-50 p-4 rounded-lg"},ft={class:"text-gray-600"},bt={key:1,class:"bg-gray-50 p-4 rounded-lg"},kt={class:"text-gray-600"},wt={key:2,class:"bg-gray-50 p-4 rounded-lg"},Pt={class:"text-gray-600"},St={key:3,class:"bg-gray-50 p-4 rounded-lg"},At={class:"text-gray-600"},Ct={key:1,class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},Rt={class:"flex items-center"},Mt={class:"flex items-center space-x-4"},Bt={class:"flex items-center border rounded-lg"},qt={class:"px-4 py-2 border-l border-r"},It=["disabled"],Nt={class:"btn-outline px-4"},jt={class:"grid grid-cols-2 gap-4"},Ft={class:"btn-outline"},Ht={class:"btn-outline"},Lt={class:"mt-16"},Qt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Et={key:1,class:"section-padding bg-gray-50"},ts={__name:"[slug]",setup(Vt){const P=L(),m=I(),S=j(),_=F(),u=Q(1),t=k(()=>m.currentProduct),A=k(()=>t.value?m.productsByCategory(t.value.category).filter(d=>d.id!==t.value.id).slice(0,4):[]),h=d=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(d),C=()=>{u.value<t.value.stockQuantity&&u.value++},R=()=>{u.value>1&&u.value--},M=()=>{if(t.value.inStock){if(t.value.prescriptionRequired&&!_.canOrderPrescription){alert("Ce produit nécessite une ordonnance valide");return}for(let d=0;d<u.value;d++)S.addItem({id:t.value.id,name:t.value.name,price:t.value.price,image:t.value.image,category:t.value.category,prescription_required:t.value.prescriptionRequired})}};return E(async()=>{await m.fetchProducts();const d=parseInt(P.params.slug);await m.fetchProduct(d)}),V(()=>({title:t.value?`${t.value.name} - GRAABEL-PHARMA`:"Produit - GRAABEL-PHARMA",meta:[{name:"description",content:t.value?t.value.description:"Découvrez ce produit sur GRAABEL-PHARMA"}]})),(d,r)=>{const x=B,f=q;return s(t)?(o(),a("div",W,[e("div",Y,[e("nav",Z,[e("ol",tt,[e("li",null,[n(x,{to:"/",class:"hover:text-primary-600"},{default:w(()=>r[0]||(r[0]=[g("Accueil")])),_:1,__:[0]})]),r[2]||(r[2]=e("li",null,"/",-1)),e("li",null,[n(x,{to:"/shop",class:"hover:text-primary-600"},{default:w(()=>r[1]||(r[1]=[g("Boutique")])),_:1,__:[1]})]),r[3]||(r[3]=e("li",null,"/",-1)),e("li",st,i(s(t).name),1)])]),e("div",et,[e("div",null,[e("div",rt,[n(f,{src:s(t).image,alt:s(t).name,class:"w-full h-96 object-cover rounded-lg"},null,8,["src","alt"])]),s(t).images?(o(),a("div",ot,[(o(!0),a(p,null,v(s(t).images,(c,b)=>(o(),a("div",{key:b,class:"bg-white rounded-lg shadow-sm p-2 cursor-pointer hover:shadow-md transition-shadow"},[n(f,{src:c,alt:`${s(t).name} - Image ${b+1}`,class:"w-full h-20 object-cover rounded"},null,8,["src","alt"])]))),128))])):l("",!0)]),e("div",at,[e("div",null,[e("span",it,i(s(t).category),1),e("h1",nt,i(s(t).name),1)]),s(t).rating?(o(),a("div",lt,[e("div",dt,[(o(),a(p,null,v(5,c=>n(s($),{key:c,class:y(["w-5 h-5",c<=s(t).rating?"text-yellow-400 fill-current":"text-gray-300"])},null,8,["class"])),64))]),e("span",ct,"("+i(s(t).reviewCount)+" avis)",1)])):l("",!0),e("div",ut,[e("span",gt,i(h(s(t).price)),1),s(t).regularPrice&&s(t).regularPrice>s(t).price?(o(),a("span",mt,i(h(s(t).regularPrice)),1)):l("",!0),s(t).regularPrice&&s(t).regularPrice>s(t).price?(o(),a("span",pt," -"+i(Math.round((1-s(t).price/s(t).regularPrice)*100))+"% ",1)):l("",!0)]),e("div",vt,[e("div",{class:y(["w-3 h-3 rounded-full",s(t).inStock?"bg-green-500":"bg-red-500"])},null,2),e("span",{class:y(s(t).inStock?"text-green-700":"text-red-700")},i(s(t).inStock?"En stock":"Rupture de stock"),3),s(t).inStock&&s(t).stockQuantity<=5?(o(),a("span",yt," ("+i(s(t).stockQuantity)+" restant"+i(s(t).stockQuantity>1?"s":"")+") ",1)):l("",!0)]),e("div",null,[r[4]||(r[4]=e("h3",{class:"text-lg font-semibold mb-2"},"Description",-1)),e("p",_t,i(s(t).description),1)]),e("div",ht,[s(t).sku?(o(),a("div",xt,[r[5]||(r[5]=e("h4",{class:"font-medium text-gray-900 mb-1"},"Référence",-1)),e("p",ft,i(s(t).sku),1)])):l("",!0),s(t).manufacturer?(o(),a("div",bt,[r[6]||(r[6]=e("h4",{class:"font-medium text-gray-900 mb-1"},"Fabricant",-1)),e("p",kt,i(s(t).manufacturer),1)])):l("",!0),s(t).dosage?(o(),a("div",wt,[r[7]||(r[7]=e("h4",{class:"font-medium text-gray-900 mb-1"},"Dosage",-1)),e("p",Pt,i(s(t).dosage),1)])):l("",!0),s(t).activeIngredients?(o(),a("div",St,[r[8]||(r[8]=e("h4",{class:"font-medium text-gray-900 mb-1"},"Principe actif",-1)),e("p",At,i(s(t).activeIngredients.join(", ")),1)])):l("",!0)]),s(t).prescriptionRequired?(o(),a("div",Ct,[e("div",Rt,[n(s(G),{class:"w-5 h-5 text-yellow-600 mr-2"}),r[9]||(r[9]=e("div",null,[e("h4",{class:"font-medium text-yellow-800"},"Produit sur ordonnance"),e("p",{class:"text-sm text-yellow-700"}," Ce médicament nécessite une ordonnance valide pour être commandé ")],-1))])])):l("",!0),e("div",Mt,[e("div",Bt,[e("button",{onClick:R,class:"p-2 hover:bg-gray-100 rounded-l-lg"},[n(s(O),{class:"w-4 h-4"})]),e("span",qt,i(s(u)),1),e("button",{onClick:C,class:"p-2 hover:bg-gray-100 rounded-r-lg"},[n(s(z),{class:"w-4 h-4"})])]),e("button",{onClick:M,disabled:!s(t).inStock||s(t).prescriptionRequired&&!s(_).canOrderPrescription,class:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed"},[n(s(H),{class:"w-5 h-5 mr-2"}),r[10]||(r[10]=g(" Ajouter au panier "))],8,It),e("button",Nt,[n(s(U),{class:"w-5 h-5"})])]),e("div",jt,[e("button",Ft,[n(s(X),{class:"w-4 h-4 mr-2"}),r[11]||(r[11]=g(" Poser une question "))]),e("button",Ht,[n(s(K),{class:"w-4 h-4 mr-2"}),r[12]||(r[12]=g(" Partager "))])])])]),e("div",Lt,[r[13]||(r[13]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-8"},"Produits similaires",-1)),e("div",Qt,[(o(!0),a(p,null,v(s(A),c=>(o(),T(N,{key:c.id,product:c},null,8,["product"]))),128))])])])])):(o(),a("div",Et,r[14]||(r[14]=[D('<div class="container-custom"><div class="animate-pulse"><div class="grid grid-cols-1 lg:grid-cols-2 gap-12"><div class="bg-gray-200 h-96 rounded-lg"></div><div class="space-y-4"><div class="bg-gray-200 h-8 rounded"></div><div class="bg-gray-200 h-4 rounded w-3/4"></div><div class="bg-gray-200 h-6 rounded w-1/2"></div><div class="bg-gray-200 h-20 rounded"></div></div></div></div></div>',1)])))}}};export{ts as default};
