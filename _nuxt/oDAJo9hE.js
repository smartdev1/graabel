import{e as M,r as m,f as u,g as w,h as B,u as U,c as i,o as a,a as t,i as n,v as P,F as k,j as h,t as c,k as _,l as S,m as A,n as F,p as N,b as D,q as E}from"./C2jbl7Ih.js";import{u as j,P as z}from"./35J3xwFi.js";import{S as T}from"./D4kxDZ2y.js";import"./BnnbI4Jk.js";import"./Q-3slqK1.js";import"./Cj5LUsUW.js";import"./BHHXhqnB.js";import"./DlAUqK2U.js";import"./DldrC2mY.js";import"./DImPT18b.js";import"./CQrOPEqO.js";import"./CmaXjgZK.js";const H={class:"section-padding bg-gray-50"},L={class:"container-custom"},$={class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},G={class:"lg:col-span-1"},I={class:"card p-6 sticky top-20"},J={class:"mb-6"},K={class:"space-y-2"},O={class:"flex items-center"},Q=["value","onUpdate:modelValue"],W={class:"mb-6"},X={class:"space-y-2"},Y={class:"flex items-center space-x-2"},Z={class:"mb-6"},ee={class:"flex items-center"},te={class:"mb-6"},se={class:"flex items-center"},oe={class:"lg:col-span-3"},le={class:"flex justify-between items-center mb-6"},ae={class:"text-gray-600"},re={class:"flex items-center space-x-2"},ie={key:0,class:"text-center py-12"},ne={key:1,class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"},de={key:2,class:"text-center py-12"},ue={key:3,class:"mt-8 flex justify-center items-center space-x-2"},ce=["disabled"],pe={class:"text-gray-600"},me=["disabled"],Re=M({__name:"shop",setup(ve){const p=j(),o=m({category:"",minPrice:0,maxPrice:1e4,inStock:!1,prescriptionRequired:!1}),v=m("name"),r=m(1),g=m(20),C=u(()=>p.loading),q=u(()=>p.categories),R=u(()=>p.products.filter(l=>{const e=!o.value.category||l.category===o.value.category,s=l.price>=o.value.minPrice&&l.price<=o.value.maxPrice,y=!o.value.inStock||l.inStock,V=!o.value.prescriptionRequired||l.prescriptionRequired;return e&&s&&y&&V})),d=u(()=>{const l=[...R.value];switch(v.value){case"price":return l.sort((e,s)=>e.price-s.price);case"price-desc":return l.sort((e,s)=>s.price-e.price);case"rating":return l.sort((e,s)=>(s.rating||0)-(e.rating||0));default:return l.sort((e,s)=>e.name.localeCompare(s.name))}}),b=u(()=>{const l=(r.value-1)*g.value,e=l+g.value;return d.value.slice(l,e)}),x=u(()=>Math.ceil(d.value.length/g.value)),f=()=>{o.value={category:"",minPrice:0,maxPrice:1e4,inStock:!1,prescriptionRequired:!1},r.value=1};return w([d],()=>{r.value=1}),B(()=>{p.fetchProducts()}),U({title:"Boutique - GRAABEL-PHARMA",meta:[{name:"description",content:"Découvrez notre large gamme de produits pharmaceutiques certifiés. Médicaments, vitamines, matériel médical et plus encore."}]}),(l,e)=>(a(),i("div",H,[t("div",L,[e[20]||(e[20]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900 mb-4"},"Boutique"),t("p",{class:"text-xl text-gray-600"}," Découvrez notre large gamme de produits pharmaceutiques ")],-1)),t("div",$,[t("div",G,[t("div",I,[e[14]||(e[14]=t("h3",{class:"text-lg font-semibold mb-4"},"Filtres",-1)),t("div",J,[e[9]||(e[9]=t("h4",{class:"font-medium mb-3"},"Catégories",-1)),t("div",K,[t("label",O,[n(t("input",{type:"radio",name:"category",value:"","onUpdate:modelValue":e[0]||(e[0]=s=>o.value.category=s),class:"mr-2"},null,512),[[P,o.value.category]]),e[8]||(e[8]=t("span",null,"Toutes",-1))]),(a(!0),i(k,null,h(q.value,s=>(a(),i("label",{key:s,class:"flex items-center"},[n(t("input",{type:"radio",name:"category",value:s,"onUpdate:modelValue":y=>o.value.category=y,class:"mr-2"},null,8,Q),[[P,o.value.category]]),t("span",null,c(s),1)]))),128))])]),t("div",W,[e[11]||(e[11]=t("h4",{class:"font-medium mb-3"},"Prix (FCFA)",-1)),t("div",X,[t("div",Y,[n(t("input",{type:"number",placeholder:"Min","onUpdate:modelValue":e[1]||(e[1]=s=>o.value.minPrice=s),class:"w-full px-3 py-2 border rounded-lg text-sm"},null,512),[[_,o.value.minPrice]]),e[10]||(e[10]=t("span",null,"-",-1)),n(t("input",{type:"number",placeholder:"Max","onUpdate:modelValue":e[2]||(e[2]=s=>o.value.maxPrice=s),class:"w-full px-3 py-2 border rounded-lg text-sm"},null,512),[[_,o.value.maxPrice]])])])]),t("div",Z,[t("label",ee,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=s=>o.value.inStock=s),class:"mr-2"},null,512),[[S,o.value.inStock]]),e[12]||(e[12]=t("span",null,"En stock uniquement",-1))])]),t("div",te,[t("label",se,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=s=>o.value.prescriptionRequired=s),class:"mr-2"},null,512),[[S,o.value.prescriptionRequired]]),e[13]||(e[13]=t("span",null,"Produits sur ordonnance",-1))])]),t("button",{onClick:f,class:"w-full btn-outline"}," Réinitialiser ")])]),t("div",oe,[t("div",le,[t("p",ae,c(d.value.length)+" produit"+c(d.value.length>1?"s":"")+" trouvé"+c(d.value.length>1?"s":""),1),t("div",re,[e[16]||(e[16]=t("label",{class:"text-sm text-gray-600"},"Trier par :",-1)),n(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>v.value=s),class:"px-3 py-2 border rounded-lg text-sm"},e[15]||(e[15]=[t("option",{value:"name"},"Nom",-1),t("option",{value:"price"},"Prix croissant",-1),t("option",{value:"price-desc"},"Prix décroissant",-1),t("option",{value:"rating"},"Note",-1)]),512),[[F,v.value]])])]),C.value?(a(),i("div",ie,e[17]||(e[17]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"},null,-1),t("p",{class:"text-gray-600 mt-4"},"Chargement des produits...",-1)]))):b.value.length>0?(a(),i("div",ne,[(a(!0),i(k,null,h(b.value,s=>(a(),N(z,{key:s.id,product:s,class:"animate-fade-in"},null,8,["product"]))),128))])):(a(),i("div",de,[D(E(T),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e[18]||(e[18]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-2"}," Aucun produit trouvé ",-1)),e[19]||(e[19]=t("p",{class:"text-gray-600 mb-4"}," Essayez de modifier vos critères de recherche ",-1)),t("button",{onClick:f,class:"btn-primary"}," Réinitialiser les filtres ")])),x.value>1?(a(),i("div",ue,[t("button",{onClick:e[6]||(e[6]=s=>r.value--),disabled:r.value===1,class:"px-4 py-2 border rounded disabled:opacity-50"}," Précédent ",8,ce),t("span",pe," Page "+c(r.value)+" sur "+c(x.value),1),t("button",{onClick:e[7]||(e[7]=s=>r.value++),disabled:r.value===x.value,class:"px-4 py-2 border rounded disabled:opacity-50"}," Suivant ",8,me)])):A("",!0)])])])]))}});export{Re as default};
